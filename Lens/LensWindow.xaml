<Window x:Class="SelectUnknown.LensWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SelectUnknown" xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        mc:Ignorable="d"
        
        WindowStyle="None"
        AllowsTransparency="True"
        WindowState="Maximized"
        ResizeMode="NoResize"
        Topmost="True"
        Background="Transparent"
        KeyDown="Window_KeyDown"
        Loaded="Window_Loaded"
        ShowInTaskbar="False"
        
        Title="Select Unknown" Height="1080" Width="1920">
    <Grid>
        <Image x:Name="ScreenImage" Stretch="UniformToFill"/>
        <Image x:Name="BackgroundImage" Opacity="0.0" Stretch="UniformToFill" IsHitTestVisible="False" Source="pack://siteoforigin:,,,/res/background.png"/>

        <Border Name="ToolBox" Background="#FFBFD9DC" Height="45" Width="1300" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="12" CornerRadius="15">
            <Grid Margin="15,0">
                
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0">
                    <Border Width="30" Height="45" Background="Transparent" Cursor="SizeAll" MouseLeftButtonDown="Border_MouseLeftButtonDown" MouseLeftButtonUp="Border_MouseLeftButtonUp" MouseMove="Border_MouseMove" VerticalAlignment="Center">
                        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                            <Rectangle Width="18" Height="4" Fill="#FFB0B0B0" RadiusX="2" RadiusY="2" Margin="0,4"/>
                            <Rectangle Width="18" Height="4" Fill="#FFB0B0B0" RadiusX="2" RadiusY="2" Margin="0,4"/>
                            <Rectangle Width="18" Height="4" Fill="#FFB0B0B0" RadiusX="2" RadiusY="2" Margin="0,4"/>
                        </StackPanel>
                    </Border>
                    <!--框选工具-->
                    <Button Name="SelectRectangle" Click="SelectRectangle_Click" ToolTip="矩形选区" Style="{DynamicResource MaterialDesignFloatingActionButton}" Margin="0,2,2,2" Width="25" Height="25">
                        <materialDesign:PackIcon Kind="ButtonCursor" Foreground="#FF292929"/>
                    </Button>
                    <materialDesign:PackIcon Kind="DragVerticalVariant" Foreground="#FFA9C0C3" VerticalAlignment="Center"/>
                    
                    <!--截图工具-->


                    <Button Name="TakeColor" Click="TakeColor_Click" ToolTip="取色工具" Background="#FFE89ABD" BorderBrush="#FFE89ABD" Style="{DynamicResource MaterialDesignFloatingActionButton}" Margin="2,2,2,2" Width="25" Height="25">
                        <materialDesign:PackIcon Kind="Eyedropper" Foreground="#FF292929"/>
                    </Button>
                    
                </StackPanel>
                
            </Grid>
            <Border.Effect>
                <DropShadowEffect BlurRadius="10" 
                                  ShadowDepth="3" 
                                  Direction="270" 
                                  Opacity="0.5"
                                  Color="Black"/>
            </Border.Effect>
            <Border.RenderTransform>
                <TranslateTransform x:Name="dragTransform"/>
            </Border.RenderTransform>
        </Border>

        <Grid Name="Browser" Background="Transparent" Width="450" Height="800" HorizontalAlignment="Right" Margin="0,0,25,0">
            <Border Background="AliceBlue" CornerRadius="20">
                <Grid>
                    <StackPanel Height="60" VerticalAlignment="Top" Orientation="Horizontal">
                        <!--拖拽-->
                        <Border Background="AliceBlue" Cursor="SizeAll" Width="15" Margin="15,12,0,6" MouseDown="Border_MouseDown" MouseMove="Border_MouseMove_1" MouseUp="Border_MouseUp">
                            <materialDesign:PackIcon Kind="Drag" VerticalAlignment="Center"/>
                        </Border>
                        
                        <TextBox x:Name="AddressBar" Height="30" Width="280" Margin="8,6,15,0" Text="{Binding ElementName=webView, Path=Source}" AcceptsReturn="False" IsReadOnly="True" VerticalAlignment="Center"/>
                        <Button x:Name="ShowInBrowser" Style="{DynamicResource MaterialDesignFloatingActionButton}" Width="40" Height="40" Margin="0,6,0,0" Click="ShowInBrowser_Click" VerticalAlignment="Center">
                            <materialDesign:PackIcon Kind="OpenInNew" Foreground="AliceBlue"/>
                        </Button>
                        <Button x:Name="Minisize" Style="{DynamicResource MaterialDesignFloatingActionButton}" Width="40" Height="40" Margin="15,6,0,0" Click="Minisize_Click" VerticalAlignment="Center">
                            <materialDesign:PackIcon Kind="WindowMinimize" Foreground="AliceBlue"/>
                        </Button>
                    </StackPanel>
                    
                    
                    <Border x:Name="WebView" BorderBrush="AliceBlue" Margin="15,60,15,15">
                        <wv2:WebView2 x:Name="webView" Source="https://google.com/" NavigationCompleted="webView_NavigationCompleted"></wv2:WebView2>
                    </Border>
                </Grid>
            </Border>
            <Grid.RenderTransform>
                <TranslateTransform x:Name="BrowserDragTransform" />
            </Grid.RenderTransform>
        </Grid>
    </Grid>
</Window>
